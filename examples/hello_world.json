{
  "types": [
    {
      "name": "string",
      "label": "text"
    },
    {
      "name": "sound",
      "label": "sound"
    },
    {
      "name": "number",
      "label": "time"
    },
    {
      "name": "boolean",
      "label": "test"
    }
  ],
  "models": {
    "start": {
      "type": "action",
      "description": "This block is the entry point of your story, the first step should be attached to it. Be careful, you should have only one start by story!",
      "inputs": [],
      "outputs": [
        {
          "type": "stream",
          "name": "output"
        }
      ]
    },
    "step": {
      "type": "action",
      "description": "This block represents a step of the story. You define the <description>, <sound> and <duration> of this step. Then, you connect this step to the 2 potential next choices.",
      "inputs": [
        {
          "type": "stream",
          "name": "input",
          "max": -1
        },
        {
          "type": "string",
          "name": "description"
        },
        {
          "type": "sound",
          "name": "sound"
        },
        {
          "type": "number",
          "name": "duration"
        }
      ],
      "outputs": [
        {
          "type": "stream",
          "name": "first choice"
        },
        {
          "type": "stream",
          "name": "second choice"
        }
      ]
    },
    "end": {
      "type": "action",
      "description": "It works like step but finishes a story, you can have several possible ends.",
      "inputs": [
        {
          "type": "stream",
          "name": "input",
          "max": -1
        },
        {
          "type": "string",
          "name": "description"
        },
        {
          "type": "sound",
          "name": "sound"
        }
      ],
      "outputs": []
    },
    "condition": {
      "type": "action",
      "description": "Choose the steam yes or no according whether the <test> is true or false.",
      "inputs": [
        {
          "type": "stream",
          "name": "input",
          "max": -1
        },
        {
          "type": "boolean",
          "name": "test",
          "max": 1
        }
      ],
      "outputs": [
        {
          "type": "stream",
          "name": "yes"
        },
        {
          "type": "stream",
          "name": "no"
        }
      ]
    },
    "regex": {
      "type": "action",
      "description": "Check whether the <input> string matches the <regex> and return true, return false otherwise.",
      "inputs": [
        {
          "type": "string",
          "name": "input",
          "max": 1
        },
        {
          "type": "string",
          "name": "regex",
          "max": 1
        }
      ],
      "outputs": [
        {
          "type": "boolean",
          "name": "output",
          "max": -1
        }
      ]
    },
    "default time": {
      "type": "variable",
      "value-type": "number",
      "value": 5
    },
    "SARA_A slave.mp3": {
      "type": "variable",
      "value-type": "sound",
      "value": {}
    },
    "is a looser?": {
      "type": "variable",
      "value-type": "boolean",
      "value": false
    }
  },
  "children": [
    {
      "_type": "block",
      "_id": 0,
      "_name": "start",
      "position": [
        49,
        141
      ]
    },
    {
      "_type": "block",
      "_id": 1,
      "_name": "step",
      "position": [
        518,
        52
      ]
    },
    {
      "_type": "block",
      "_id": 2,
      "_name": "end",
      "position": [
        1102,
        33
      ]
    },
    {
      "_type": "block",
      "_id": 3,
      "_name": "end",
      "position": [
        1249,
        261
      ]
    },
    {
      "_type": "block",
      "_id": 4,
      "_name": "value-string",
      "position": [
        517,
        192
      ],
      "value": "Step's description..."
    },
    {
      "_type": "block",
      "_id": 5,
      "_name": "value-string",
      "position": [
        1111,
        190
      ],
      "value": "OK"
    },
    {
      "_type": "block",
      "_id": 6,
      "_name": "value-string",
      "position": [
        1269,
        168
      ],
      "value": "KO"
    },
    {
      "_type": "block",
      "_id": 7,
      "_name": "SARA_A slave.mp3",
      "position": [
        523,
        244
      ],
      "value": {}
    },
    {
      "_type": "block",
      "_id": 8,
      "_name": "SARA_A slave.mp3",
      "position": [
        1078,
        143
      ],
      "value": {}
    },
    {
      "_type": "block",
      "_id": 9,
      "_name": "SARA_A slave.mp3",
      "position": [
        1234,
        214
      ],
      "value": {}
    },
    {
      "_type": "block",
      "_id": 10,
      "_name": "value-number",
      "position": [
        553,
        292
      ],
      "value": 5
    },
    {
      "_type": "block",
      "_id": 11,
      "_name": "test assign",
      "position": [
        198,
        18
      ]
    },
    {
      "_type": "block",
      "_id": 12,
      "_name": "is a looser?",
      "position": [
        203,
        128
      ],
      "value": false
    },
    {
      "_type": "block",
      "_id": 14,
      "_name": "value-boolean",
      "position": [
        207,
        176
      ],
      "value": true
    },
    {
      "_type": "block",
      "_id": 15,
      "_name": "condition",
      "position": [
        823,
        33
      ]
    },
    {
      "_type": "block",
      "_id": 13,
      "_name": "text equal",
      "position": [
        807,
        127
      ]
    },
    {
      "_type": "block",
      "_id": 16,
      "_name": "value-string",
      "position": [
        829,
        215
      ],
      "value": "Hello"
    },
    {
      "_type": "block",
      "_id": 17,
      "_name": "value-string",
      "position": [
        823,
        262
      ],
      "value": "Good bye"
    }
  ],
  "connections": [
    {
      "from": {
        "block": 6
      },
      "to": {
        "block": 3,
        "point": "description"
      }
    },
    {
      "from": {
        "block": 5
      },
      "to": {
        "block": 2,
        "point": "description"
      }
    },
    {
      "from": {
        "block": 1,
        "point": "second choice"
      },
      "to": {
        "block": 3,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 8,
        "point": "SARA_A slave.mp3"
      },
      "to": {
        "block": 2,
        "point": "sound"
      }
    },
    {
      "from": {
        "block": 9,
        "point": "SARA_A slave.mp3"
      },
      "to": {
        "block": 3,
        "point": "sound"
      }
    },
    {
      "from": {
        "block": 4
      },
      "to": {
        "block": 1,
        "point": "description"
      }
    },
    {
      "from": {
        "block": 7,
        "point": "SARA_A slave.mp3"
      },
      "to": {
        "block": 1,
        "point": "sound"
      }
    },
    {
      "from": {
        "block": 10
      },
      "to": {
        "block": 1,
        "point": "duration"
      }
    },
    {
      "from": {
        "block": 0,
        "point": "output"
      },
      "to": {
        "block": 11,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 11,
        "point": "output"
      },
      "to": {
        "block": 1,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 12,
        "point": "is a looser?"
      },
      "to": {
        "block": 11,
        "point": "variable"
      }
    },
    {
      "from": {
        "block": 14
      },
      "to": {
        "block": 11,
        "point": "other"
      }
    },
    {
      "from": {
        "block": 1,
        "point": "first choice"
      },
      "to": {
        "block": 15,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 15,
        "point": "yes"
      },
      "to": {
        "block": 3,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 15,
        "point": "no"
      },
      "to": {
        "block": 2,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 13,
        "point": "result"
      },
      "to": {
        "block": 15,
        "point": "test"
      }
    },
    {
      "from": {
        "block": 16
      },
      "to": {
        "block": 13,
        "point": "first"
      }
    },
    {
      "from": {
        "block": 17
      },
      "to": {
        "block": 13,
        "point": "second"
      }
    }
  ]
}