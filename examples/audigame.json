{
  "types": [
    {
      "name": "string",
      "label": "text"
    },
    {
      "name": "sound",
      "label": "sound"
    },
    {
      "name": "number",
      "label": "time"
    },
    {
      "name": "boolean",
      "label": "test"
    }
  ],
  "models": {
    "toto.mp3": {
      "type": "variable",
      "value-type": "sound",
      "value": "oijo2ij34o2i3j423uh4i23ueone2u3h2i3h24"
    },
    "long time": {
      "type": "variable",
      "value-type": "number"
    },
    "default time": {
      "type": "variable",
      "value-type": "number"
    },
    "music game over": {
      "type": "variable",
      "value-type": "sound"
    },
    "music intro": {
      "type": "variable",
      "value-type": "sound"
    },
    "boom": {
      "type": "variable",
      "value-type": "sound"
    },
    "shoot": {
      "type": "variable",
      "value-type": "sound"
    },
    "mission success": {
      "type": "variable",
      "value-type": "string"
    },
    "game over": {
      "type": "variable",
      "value-type": "string"
    },
    "intro": {
      "type": "variable",
      "value-type": "string"
    },
    "alarm disabled?": {
      "type": "variable",
      "value-type": "boolean"
    },
    "can climb?": {
      "type": "variable",
      "value-type": "boolean"
    },
    "has key?": {
      "type": "variable",
      "value-type": "boolean"
    },
    "can enter?": {
      "type": "variable",
      "value-type": "boolean"
    },
    "condition": {
      "type": "action",
      "description": "Choose the steam yes or no according whether the <test> is true or false.",
      "inputs": [
        {
          "type": "stream",
          "name": "input",
          "max": -1
        },
        {
          "type": "boolean",
          "name": "test"
        }
      ],
      "outputs": [
        {
          "type": "stream",
          "name": "yes"
        },
        {
          "type": "stream",
          "name": "no"
        }
      ]
    },
    "end": {
      "type": "action",
      "description": "It works like step but finishes a story, you can have several possible ends.",
      "inputs": [
        {
          "type": "stream",
          "name": "input",
          "max": -1
        },
        {
          "type": "string",
          "name": "description"
        },
        {
          "type": "sound",
          "name": "sound"
        }
      ],
      "outputs": []
    },
    "step": {
      "type": "action",
      "description": "This block represents a step of the story. You define the <description>, <sound> and <duration> of this step. Then, you connect this step to the 2 potential next choices.",
      "inputs": [
        {
          "type": "stream",
          "name": "input",
          "max": -1
        },
        {
          "type": "string",
          "name": "description"
        },
        {
          "type": "sound",
          "name": "sound"
        },
        {
          "type": "number",
          "name": "duration"
        }
      ],
      "outputs": [
        {
          "type": "stream",
          "name": "first choice"
        },
        {
          "type": "stream",
          "name": "second choice"
        }
      ]
    },
    "start": {
      "type": "action",
      "description": "This block is the entry point of your story, the first step should be attached to it. Be careful, you should have only one start by story!",
      "inputs": [],
      "outputs": [
        {
          "type": "stream",
          "name": "output"
        }
      ]
    }
  },
  "children": [
    {
      "_type": "block",
      "_id": 0,
      "_name": "start",
      "position": [
        18,
        99
      ]
    },
    {
      "_type": "group",
      "_id": 0,
      "_name": "success or game over",
      "position": [
        1176.4664306640625,
        52.10542047023773
      ],
      "size": [
        220.864501953125,
        376.6547622680664
      ],
      "children": [
        {
          "_type": "block",
          "_id": 4,
          "_name": "end",
          "position": [
            55.77069091796875,
            39.99999237060547
          ]
        },
        {
          "_type": "block",
          "_id": 7,
          "_name": "end",
          "position": [
            48.312042236328125,
            205.95015335083008
          ]
        },
        {
          "_type": "block",
          "_id": 14,
          "_name": "value-string",
          "position": [
            24.93804931640625,
            316.6547622680664
          ],
          "value": "Mission failed"
        },
        {
          "_type": "block",
          "_id": 15,
          "_name": "value-string",
          "position": [
            19.99993896484375,
            150.17711639404297
          ],
          "value": "Mission succeed"
        }
      ]
    },
    {
      "_type": "group",
      "_id": 1,
      "_name": "rescue of the hostage from the military camp",
      "position": [
        234.178466796875,
        50.452181816101074
      ],
      "size": [
        919.543212890625,
        495.1946077346802
      ],
      "children": [
        {
          "_type": "block",
          "_id": 1,
          "_name": "step",
          "position": [
            20,
            109.57755756378174
          ]
        },
        {
          "_type": "block",
          "_id": 2,
          "_name": "step",
          "position": [
            650.2620239257812,
            40.000000953674316
          ]
        },
        {
          "_type": "block",
          "_id": 3,
          "_name": "step",
          "position": [
            25.21942138671875,
            324.42142963409424
          ]
        },
        {
          "_type": "block",
          "_id": 5,
          "_name": "condition",
          "position": [
            396.8326110839844,
            168.59992694854736
          ]
        },
        {
          "_type": "block",
          "_id": 6,
          "_name": "step",
          "position": [
            425.11077880859375,
            321.99076557159424
          ]
        },
        {
          "_type": "block",
          "_id": 10,
          "_name": "value-string",
          "position": [
            21,
            219.57755756378174
          ],
          "value": "Enter into the camp"
        },
        {
          "_type": "block",
          "_id": 11,
          "_name": "value-string",
          "position": [
            652.2843627929688,
            152.79549884796143
          ],
          "value": "Kill the guard"
        },
        {
          "_type": "block",
          "_id": 12,
          "_name": "value-string",
          "position": [
            24.208251953125,
            435.19462299346924
          ],
          "value": "Knock out the guard"
        },
        {
          "_type": "block",
          "_id": 13,
          "_name": "value-string",
          "position": [
            428.17852783203125,
            433.9659547805786
          ],
          "value": "Extract the hostage"
        },
        {
          "_type": "block",
          "_id": 20,
          "_name": "can enter?",
          "position": [
            395.821533203125,
            259.5478181838989
          ]
        }
      ]
    }
  ],
  "connections": [
    {
      "from": {
        "block": 0,
        "point": "output"
      },
      "to": {
        "block": 1,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 10
      },
      "to": {
        "block": 1,
        "point": "description"
      }
    },
    {
      "from": {
        "block": 1,
        "point": "first choice"
      },
      "to": {
        "block": 5,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 5,
        "point": "no"
      },
      "to": {
        "block": 1,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 5,
        "point": "yes"
      },
      "to": {
        "block": 2,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 11
      },
      "to": {
        "block": 2,
        "point": "description"
      }
    },
    {
      "from": {
        "block": 2,
        "point": "first choice"
      },
      "to": {
        "block": 4,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 15
      },
      "to": {
        "block": 4,
        "point": "description"
      }
    },
    {
      "from": {
        "block": 1,
        "point": "second choice"
      },
      "to": {
        "block": 3,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 12
      },
      "to": {
        "block": 3,
        "point": "description"
      }
    },
    {
      "from": {
        "block": 3,
        "point": "first choice"
      },
      "to": {
        "block": 6,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 13
      },
      "to": {
        "block": 6,
        "point": "description"
      }
    },
    {
      "from": {
        "block": 20,
        "point": "can enter?"
      },
      "to": {
        "block": 5,
        "point": "test"
      }
    },
    {
      "from": {
        "block": 14
      },
      "to": {
        "block": 7,
        "point": "description"
      }
    },
    {
      "from": {
        "block": 6,
        "point": "second choice"
      },
      "to": {
        "block": 7,
        "point": "input"
      }
    },
    {
      "from": {
        "block": 6,
        "point": "first choice"
      },
      "to": {
        "block": 4,
        "point": "input"
      }
    }
  ]
}