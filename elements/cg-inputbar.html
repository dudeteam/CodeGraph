<link rel="import" href="cg-style.html">
<polymer-element name="cg-inputbar" attributes="label value" extends="cg-style">
    <link rel="import" href="../bower_components/core-toolbar/core-toolbar.html">
    <link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
    <template>
        <core-toolbar on-keyup="{{cancelAction}}">
            <input id="text-input" is="core-input" placeholder="{{label}}" value="{{value}}" on-change="{{submitAction}}" autofocus flex>
            <paper-icon-button on-click="{{submitAction}}" icon="check"></paper-icon-button>
        </core-toolbar>
    </template>
    <script>
        Polymer({
            submitAction: function () {
                this.fire("submit");
                this.fire("close");
            },
            cancelAction: function (e) {
                if (e.keyCode === 27) {
                    this.fire("cancel");
                    this.fire("close");
                }
            }
        });
    </script>
</polymer-element>