<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-toolbar/core-toolbar.html">
<link rel="import" href="../bower_components/core-icons/av-icons.html">
<link rel="import" href="../bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/core-tooltip/core-tooltip.html">
<link rel="import" href="../bower_components/paper-toast/paper-toast.html">
<link rel="import" href="../bower_components/paper-dialog/paper-action-dialog.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<polymer-element name="cg-app" attributes="logo">
    <template>
        <style>
            #header {
                color: #ddd;
                background: #15202f;
                /*background: rgb(21, 32, 52);*/
                font-family: "Varela round", sans-serif;
                border-bottom: 1px solid #ccc;
            }

            [disabled] {
                opacity: 0.7;
            }
        </style>
        <core-toolbar id="header">
            <paper-icon-button src="{{logo}}"></paper-icon-button>
            <span flex></span>
            <core-tooltip label="add a group">
                <paper-icon-button on-click="{{addGroup}}" icon="av:my-library-add"></paper-icon-button>
            </core-tooltip>
            <core-tooltip label="add a block">
                <paper-icon-button on-click="{{addAction}}" icon="add-box"></paper-icon-button>
            </core-tooltip>
            <core-tooltip label="remove the selected groups and blocks">
                <paper-icon-button on-click="{{removeSelectedNodes}}" icon="delete"></paper-icon-button>
            </core-tooltip>
            <core-tooltip label="undo the last action">
                <paper-icon-button disabled icon="undo"></paper-icon-button>
            </core-tooltip>
            <core-tooltip label="redo the last action">
                <paper-icon-button disabled icon="redo"></paper-icon-button>
            </core-tooltip>
        </core-toolbar>
        <content id="renderer" select="cg-renderer"></content>
        <paper-toast id="error"></paper-toast>
        <paper-action-dialog id="groupDialog" heading="Create a new group" transition="core-transition-top" backdrop>
            <paper-input autofocus value="{{groupTitle}}" label="Group title"></paper-input>
            <paper-button dismissive>Cancel</paper-button>
            <paper-button on-click="{{createGroup}}" affirmative default>Create</paper-button>
        </paper-action-dialog>
        <paper-action-dialog id="actionDialog" heading="Add a new action" transition="core-transition-top" backdrop>
            <paper-input autofocus value="{{model}}" label="Action model"></paper-input>
            <div>
                <template repeat="{{ model in modelList }}">
                    <div>{{ model }}</div>
                </template>
            </div>
            <paper-button dismissive>Cancel</paper-button>
            <paper-button on-click="{{createAction}}" affirmative default>Create</paper-button>
        </paper-action-dialog>
    </template>
    <script src="cg-app.js"></script>
</polymer-element>