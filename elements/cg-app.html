<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/core-splitter/core-splitter.html">
<link rel="import" href="../bower_components/paper-toast/paper-toast.html">
<link rel="import" href="../bower_components/core-icons/av-icons.html">
<link rel="import" href="../bower_components/core-icons/image-icons.html">
<link rel="import" href="../bower_components/dude-gui/dude-panel.html">
<link rel="import" href="../bower_components/dude-gui/dude-style.html">
<link rel="import" href="../bower_components/dude-gui/dude-sidebar.html">
<link rel="import" href="../bower_components/dude-gui/dude-toolbar.html">
<link rel="import" href="../bower_components/dude-gui/dude-toolbar-command.html">
<link rel="import" href="../bower_components/dude-gui/dude-toolbar-input.html">
<link rel="import" href="cg-renderer.html">
<polymer-element name="cg-app" attributes="logo theme graphUrl" extends="dude-style">
    <template>
        <style>
            dude-toolbar [data-state="root"] {
                margin: auto;
                padding: 0 20px;
                max-width: 800px;
            }
        </style>
        <dude-panel id="panel"
                    name="story-editor"
                    sidebarPosition="left"
                    toolbarPosition="top"
                    styleUrl="themes/{{theme}}/panel.css"
                    flex>
            <dude-toolbar id="toolbar">
                <div data-state="root" layout horizontal justified>
                    <dude-toolbar-command name="openGraph"
                                          label="open another graph"
                                          icon="open-in-new"
                                          on-trigger="{{runCommand}}">
                    </dude-toolbar-command>
                    <dude-toolbar-command name="save"
                                          label="save the graph"
                                          icon="save"
                                          on-trigger="{{runCommand}}">
                    </dude-toolbar-command>
                    <dude-toolbar-command name="openGroup"
                                          label="add a group"
                                          icon="av:my-library-add"
                                          on-trigger="{{runCommand}}">
                    </dude-toolbar-command>
                    <dude-toolbar-command name="openAction"
                                          label="add an action"
                                          icon="add-box"
                                          on-trigger="{{runCommand}}">
                    </dude-toolbar-command>
                    <dude-toolbar-command name="openPicker"
                                          label="add a picker"
                                          icon="add-circle"
                                          on-trigger="{{runCommand}}">
                    </dude-toolbar-command>
                    <dude-toolbar-command name="edit"
                                          label="edit the selected object"
                                          icon="create"
                                          on-trigger="{{runCommand}}">
                    </dude-toolbar-command>
                    <dude-toolbar-command name="removeSelection"
                                          label="remove the selected groups and blocks"
                                          icon="delete"
                                          on-trigger="{{runCommand}}">
                    </dude-toolbar-command>
                    <dude-toolbar-command name="zoomToFit"
                                          label="zoom to best fit all elements"
                                          icon="image:crop-free"
                                          on-trigger="{{runCommand}}">
                    </dude-toolbar-command>
                </div>
                <dude-toolbar-input name="createGroup"
                                    data-state="group"
                                    label="Group title"
                                    icon="check"
                                    on-submit="{{runCommand}}">
                </dude-toolbar-input>
                <dude-toolbar-input name="createAction"
                                    data-state="action"
                                    label="Search block"
                                    icon="check"
                                    on-submit="{{runCommand}}">
                </dude-toolbar-input>
                <div data-state="picker">Add a picker</div>
            </dude-toolbar>
            <dude-sidebar id="sidebar" hidden>
                <div>
                    <div>start</div>
                    <div>end</div>
                    <div>step</div>
                    <div>condition</div>
                </div>
            </dude-sidebar>
            <cg-renderer id="renderer"
                         styleUrl="themes/{{theme}}/graph.css"
                         configUrl="themes/{{theme}}/config.json"
                         graphUrl="{{graphUrl}}"
                         content>
            </cg-renderer>
        </dude-panel>
        <!--<core-splitter class="panel-splitter" direction="right"></core-splitter>-->
        <!--<dude-panel name="audio-editor" styleUrl="themes/{{theme}}/panel.css">-->
        <!--<dude-toolbar root="hello">-->
        <!--<div data-state="hello">-->
        <!--Audio Editor-->
        <!--</div>-->
        <!--</dude-toolbar>-->
        <!--<dude-sidebar>Here comes the tools.</dude-sidebar>-->
        <!--<div content flex>Here comes some edition content</div>-->
        <!--</dude-panel>-->
        <paper-toast class="notification" id="error"></paper-toast>
        <paper-toast class="notification" id="info"></paper-toast>
        <paper-toast class="notification" id="success"></paper-toast>
    </template>
    <script src="cg-app.js"></script>
</polymer-element>