<!doctype html>
<html>
<head>
    <title>CodeGraph</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
    <script src="../webcomponentsjs/webcomponents.js"></script>
    <link href='http://fonts.googleapis.com/css?family=Indie+Flower' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,300italic,400italic,700italic' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Varela+Round' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Varela' rel='stylesheet' type='text/css'>
    <link href='http://fonts.googleapis.com/css?family=Cherry+Cream+Soda' rel='stylesheet' type='text/css'>
    <link rel="import" href="../core-drawer-panel/core-drawer-panel.html">
    <link rel="import" href="../core-header-panel/core-header-panel.html">
    <link rel="import" href="../core-toolbar/core-toolbar.html">
    <link rel="import" href="../core-ajax/core-ajax.html">
    <link rel="import" href="cg-app.html">
    <style>
        core-toolbar {
            font-family: "Lato", sans-serif;
            font-weight: 300;
            background: rgb(243, 156, 18);
        }
        core-toolbar paper-button {
            text-transform: none;
            font-size: .7em;
            color: #ccc;
        }
        core-toolbar paper-button.dark { background: #2b2b2b; }
        core-toolbar paper-button.primary {
            color: #222;
            background: rgb(243, 156, 18);
        }
        core-toolbar paper-button span {
            padding-left: 5px;
        }
        [drawer] {
            font-family: "Lato", sans-serif;
            font-weight: 300;
            background: #222;
            color: #aaa;
        }
        [drawer] core-item {
            padding: 10px;
            cursor: pointer !important;
        }
        [drawer] core-item:not(:last-child) {
            border-bottom: 1px solid #444;
        }
        [drawer] core-item.core-selected {
            color: #eee;
            font-weight: normal;
        }
        /*core-toolbar {*/
            /*font-family: "Varela", sans-serif;*/
            /*background: rgb(207, 216, 220);*/
            /*color: #222;*/
            /*border-bottom: 1px solid #000;*/
        /*}*/
        /*core-toolbar #login {*/
            /*font-size: .7em;*/
        /*}*/
        /*[drawer] {*/
            /*font-family: "Varela Round", sans-serif;*/
            /*background: #222;*/
            /*color: #aaa;*/
        /*}*/
        /*[drawer] core-item {*/
            /*padding: 10px;*/
            /*cursor: pointer !important;*/
        /*}*/
        /*[drawer] core-item:not(:last-child) {*/
            /*border-bottom: 1px solid #444;*/
        /*}*/
        /*[drawer] core-item.core-selected {*/
            /*color: #eee;*/
            /*font-weight: normal;*/
        /*}*/
    </style>
</head>
<body fullbleed unresolved>
    <core-drawer-panel forceNarrow>
        <core-header-panel main>
            <core-toolbar>
                <paper-icon-button id="menu-btn" icon="menu" core-drawer-toggle></paper-icon-button>
                <div id="title" flex><img height="20" src="images/audigame_logo.png"></div>
                <paper-button class="dark" on-click="{{showDialog}}">Disconnect</paper-button>
            </core-toolbar>
            <template id="codegraph-demo" is="auto-binding">
                <core-ajax id="loader"
                           url="examples/audigame.json"
                           handleAs="json"
                           on-core-response="{{_graphLoaded}}"
                           auto>
                </core-ajax>
                <cg-app id="codegraph" logo="images/dude_logo_dark.png"
                        themeUrl="themes/audigame"
                        layout horizontal fit>
                </cg-app>
            </template>
        </core-header-panel>
        <div drawer>
            <core-menu selected="2">
                <core-item label="Dashboard" icon="dashboard"></core-item>
                <core-item label="Shop" icon="shopping-cart"></core-item>
                <core-item label="Editor" icon="create"></core-item>
                <core-item label="Get the app!" icon="android"></core-item>
                <core-item label="Contact" icon="send"></core-item>
            </core-menu>
        </div>
    </core-drawer-panel>
    <script>
        var demo = document.querySelector("#codegraph-demo");
        demo._graphLoaded = function () {
            this.$.codegraph.graphData = this.$.loader.response;
            this.$.codegraph.addEventListener("ready", function () {
                this.$.codegraph.createVariable("sound", "toto.mp3");
            }.bind(this));
        };
    </script>
</body>
</html>