<!--
Copyright (c) 2015 DudeTeam. All rights reserved.
-->
<link rel="import" href="../../polymer/polymer.html">
<link rel="import" href="../../dude-hierarchy/dude-hierarchy.html">
<link rel="import" href="../../dude-property/dude-property.html">
<!--
`dude-graph-edit-block` is a panel used to add a new blocks/variables to the graph.

@group dude-graph
@element dude-graph-edit-block-group
@demo demo/index.html
-->
<dom-module id="dude-graph-edit-block">
    <template>
        <h1>{{ data.selectedRenderBlock._block.blockName }}</h1>
        <div>
            <span>{{ data.selectedRenderBlock._block.blockInputs.length }}</span> inputs
            <span>{{ data.selectedRenderBlock._block.blockOutputs.length }}</span> outputs
        </div>
        <template is="dom-repeat" items="[[ data.selectedRenderBlock._block.blockInputs ]]" as="point">
            <dude-property property-name="[[ point.pointName ]]"
                           property-type="[[ point.pointValueType ]]"
                           property-value="{{ point.pointValue }}">
            </dude-property>
        </template>
        <template is="dom-repeat" items="[[ data.selectedRenderBlock._block.blockOutputs ]]" as="point">
            <dude-property property-name="[[ point.pointName ]]"
                           property-type="[[ point.pointValueType ]]"
                           property-value="{{ point.pointValue }}">
            </dude-property>
        </template>
    </template>
    <script>
        /**
         * @extends {DudeStackItemElement}
         */
        Polymer({
            is: "dude-graph-edit-block",
            properties: {
                "data": {
                    "type": "DudeGraphElement",
                    "readonly": true
                }
            },

            /**
             * Called when the panel is attached to the DOM
             * Notifies the dude-stack
             */
            attached: function () {
                this.fire("dude-stack-attached");
            },

            /**
             * Called when the panel is opened
             */
            opened: function () {},

            /**
             * Called when the panel is the top of the stack
             */
            resumed: function () {},

            /**
             * Called when the panel is not anymore the top of the stack
             */
            paused: function () {},

            /**
             * Called when the panel is closed
             */
            closed: function () {}
        });
    </script>
</dom-module>