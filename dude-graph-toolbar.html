<!--
Copyright (c) 2015 DudeTeam. All rights reserved.
-->
<link rel="import" href="../polymer/polymer.html">
<link rel="import" href="dude-graph-tool.html">
<link rel="stylesheet" href="../font-awesome/css/font-awesome.css">
<!--
`dude-graph-toolbar` is a Polymer element which creates the inspector toolbar for a dudeGraphEditor.

@group dude-graph
@element dude-graph-toolbar
@demo demo/index.html
-->
<dom-module id="dude-graph-toolbar">
    <style>
        :host {
            background: var(--dude-secondary-background-color);
        }
    </style>
    <template>
        <div class="layout horizontal">
            <dude-graph-tool class="flex"
                             icon="fa fa-save"
                             description="Save"
                             data-action="shortcutSave"
                             on-click="action">
            </dude-graph-tool>
            <dude-graph-tool class="flex"
                             icon="fa fa-play"
                             description="Build"
                             data-action="shortcutBuild"
                             on-click="action">
            </dude-graph-tool>
            <dude-graph-tool class="flex"
                             icon="fa fa-trash"
                             description="Remove selection"
                             data-action="shortcutRemoveSelection"
                             on-click="action">
            </dude-graph-tool>
            <dude-graph-tool class="flex"
                             icon="fa fa-square-o"
                             description="Create group for selection"
                             data-action="shortcutCreateGroup"
                             on-click="action">
            </dude-graph-tool>
            <dude-graph-tool class="flex"
                             icon="fa fa-compress"
                             description="Zoom to fit"
                             data-action="shortcutZoomToFit"
                             on-click="action">
            </dude-graph-tool>
        </div>
    </template>
    <script>
        var DudeGraphToolbar = Polymer({
            is: "dude-graph-toolbar",
            properties: {
                /**
                 * The DudeGraph element to inspect
                 */
                "editor": {
                    "type": DudeGraphEditor,
                    "value": null
                },

                /**
                 * The DudeGraph element to inspect
                 */
                "inspector": {
                    "type": DudeGraphInspector,
                    "value": null
                }
            },

            /**
             *
             * @param {DudeGraphEditor} editor
             * @param {DudeGraphInspector} inspector
             */
            start: function (editor, inspector) {
                this.set("editor", editor);
                this.set("inspector", inspector);
            },

            /**
             *
             * @param {CustomEvent} e
             */
            action: function (e) {
                var inspectorMethodName = e.target.parentNode.getAttribute("data-action");
                var inspectorMethod = this.get("inspector")[inspectorMethodName];
                if (!_.isUndefined(inspectorMethod)) {
                    inspectorMethod.call(this.get("inspector"), e);
                } else {
                    console.warn("Method `" + inspectorMethodName + "` not found in dude-graph-inspector");
                }
            }
        });
    </script>
</dom-module>