<!--
Copyright (c) 2015 DudeTeam. All rights reserved.
-->
<link rel="import" href="../../../polymer/polymer.html">
<link rel="import" href="../../dude-graph-editor.html">
<link rel="import" href="../../dude-graph-inspector.html">
<!--
`demo-basic` is a Polymer element to wrap a dude-graph demo
-->
<dom-module id="demo-basic">
    <template>
        <div class="layout horizontal fit">
            <dude-graph-editor id="editor"
                               class="panel layout horizontal flex-2"
                               graph-data="[[ graphData ]]"
                               renderer-data="[[ rendererData ]]">
            </dude-graph-editor>
            <dude-graph-inspector id="inspector"
                                  class="panel layout horizontal flex"
                                  model-data="[[ modelData ]]">
            </dude-graph-inspector>
        </div>
    </template>
    <script>
        Polymer({
            is: "demo-basic",
            properties: {
                "graphData": {
                    "type": Object,
                    "value": {
                        "blocks": [
                            {
                                "cgType": "Block",
                                "cgId": "0",
                                "cgName": "Start",
                                "cgOutputs": [
                                    {
                                        "cgType": "Stream",
                                        "cgName": "out"
                                    }
                                ]
                            },
                            {
                                "cgType": "Block",
                                "cgId": "1",
                                "cgName": "End",
                                "cgInputs": [
                                    {
                                        "cgType": "Stream",
                                        "cgName": "in"
                                    }
                                ]
                            }
                        ]
                    }
                },
                "rendererData": {
                    "type": Object,
                    "value": {
                        "zoom": {
                            "translate": [100, 0],
                            "scale": 1
                        },
                        "blocks": [
                            {
                                "id": "0",
                                "cgBlock": "0",
                                "position": [100, 100]
                            },
                            {
                                "id": "1",
                                "cgBlock": "1",
                                "position": [350, 150]
                            }
                        ]
                    }
                },
                "modelData": {
                    "type": Array,
                    "value": [
                        {
                            "item": {
                                "name": "Middle",
                                "icon": "fa fa-plus-square",
                                "data": {
                                    "cgType": "Block",
                                    "cgName": "Middle",
                                    "cgInputs": [
                                        {
                                            "cgType": "Stream",
                                            "cgName": "in"
                                        }
                                    ],
                                    "cgOutputs": [
                                        {
                                            "cgType": "Stream",
                                            "cgName": "out"
                                        }
                                    ]
                                }
                            }
                        }
                    ]
                }
            },

            ready: function () {
                this.$.inspector.editor = this.$.editor;
                this.$.editor.load();
                this.$.inspector.load();
            }
        });
    </script>
</dom-module>