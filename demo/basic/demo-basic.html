<!--
Copyright (c) 2015 DudeTeam. All rights reserved.
-->
<link rel="import" href="../../../polymer/polymer.html">
<link rel="import" href="../../dude-graph-editor.html">
<link rel="import" href="../../dude-graph-inspector.html">
<!--
`demo-basic` is a Polymer element to wrap a dude-graph demo
-->
<dom-module id="demo-basic">
    <template>
        <div class="layout horizontal fit">
            <dude-graph-editor id="editor"
                               class="panel layout horizontal flex-2">
            </dude-graph-editor>
            <dude-graph-inspector id="inspector"
                                  class="panel layout horizontal flex"
                                  models="[[ models ]]">
            </dude-graph-inspector>
        </div>
    </template>
    <script>
        var graphData = {
            "blocks": [
                {
                    "cgType": "Block",
                    "cgId": "0",
                    "cgName": "Start",
                    "cgOutputs": [
                        {
                            "cgType": "Stream",
                            "cgName": "out"
                        }
                    ]
                },
                {
                    "cgType": "Block",
                    "cgId": "1",
                    "cgName": "End",
                    "cgInputs": [
                        {
                            "cgType": "Stream",
                            "cgName": "in"
                        }
                    ]
                }
            ]
        };
        var rendererData = {
            "zoom": {
                "translate": [100, 0],
                "scale": 1
            },
            "blocks": [
                {
                    "id": "0",
                    "cgBlock": "0",
                    "position": [100, 100]
                },
                {
                    "id": "1",
                    "cgBlock": "1",
                    "position": [350, 150]
                }
            ]
        };
        var models = [
            {
                "item": {
                    "name": "Middle",
                    "icon": "fa fa-plus-square",
                    "data": {
                        "cgType": "Block",
                        "cgName": "Middle",
                        "cgInputs": [
                            {
                                "cgType": "Stream",
                                "cgName": "in"
                            }
                        ],
                        "cgOutputs": [
                            {
                                "cgType": "Stream",
                                "cgName": "out"
                            }
                        ]
                    }
                }
            }
        ];
        Polymer({
            is: "demo-basic",
            properties: {
                "models": {
                    "value": models
                }
            },
            ready: function () {
                this.$.editor.start();
                this.$.inspector.start(this.$.editor);
                this.$.editor.load(graphData, rendererData);
            }
        });
    </script>
</dom-module>